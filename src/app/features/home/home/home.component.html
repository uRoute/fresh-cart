<section>

    <div>
        <app-main-slider />
    </div>

    <div>
        <app-categories-slider></app-categories-slider>
    </div>

    <div class="products">
        <h1 class="main-title border-bottom border-3 border-success-subtle"> Recommended Products : </h1>
        <div class="row">
            @for(product of products ; track product._id){
            @if(product.ratingsAverage > 4){
            <div class="col-md-6 col-lg-4 col-xl-3 col-xxl-2 p-2">
                <div class="product position-relative overflow-hidden border border-2 border-secondary-subtle p-2 rounded-3">
                    <div [routerLink]="['/p-details' , product._id , product.slug]">
                        <div class="product-img">
                            <img [src]="product.imageCover" class="w-100 d-block" alt="">
                        </div>
                        <div class="product-caption">
                            <h1 class="fs-5 fw-bold text-success my-1"> {{product.title.split(' ',2).join(' ')}} </h1>
                            <div class="d-flex justify-content-between align-items-center">
                                <h2 class="fs-4 fw-bold text-success my-1"> {{product.price | currency : 'GBP'}} </h2>
                                <span>
                                    {{product.ratingsAverage}}
                                    <i class="text-warning fa-solid fa-star "></i>
                                </span>
                            </div>
                            <h3 class="fs-5 fw-bold text-success my-1"> {{product.category.name}} </h3>
                        </div>
                    </div>

                    <div class="addCartBtn">
                        <button (click)="AddToCart(product._id)" class="btn btn-success d-block"> <i class="fa-solid fa-cart-shopping "></i> </button>
                    </div>

                </div>
            </div>
            }

            }@empty {
            <h1 class="text-center main-title">Loading...</h1>
            }

        </div>
    </div>









</section>